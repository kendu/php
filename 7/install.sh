#!/bin/bash

################################################################################
#                                                                              #
#                                 {o,o}                                        #
#                                 |)__)                                        #
#                                 -"-"-                                        #
#                                                                              #
################################################################################

#################################---ENV---######################################

set -e
export LANG=C.UTF-8

################################################################################

##############################---VARIABLES---###################################

PHP_REPO="ppa:ondrej/php-7.0"
DEPENDENCIES="software-properties-common"
PACKAGES="  php7.0 \
            php7.0-cli \
            php7.0-common \
            php7.0-fpm"

################################################################################

###############################---WORKDIR---####################################

cd $( dirname $0 )

################################################################################

##############################---FUNCTIONS---###################################

function installPhp() {
    add-apt-repository -y ppa:ondrej/php-7.0
    apt-get update
    apt-get install --yes --force-yes ${PACKAGES}
    mkdir /run/php
    rm -f /etc/php5/fpm/pool.d/www.conf
}

################################################################################

###############################---EXECUTION---##################################

locale-gen en_US.UTF-8
export LANG=en_US.UTF-8

# Update system
apt-get update && apt-get upgrade --yes --force-yes
apt-get install --yes --force-yes ${DEPENDENCIES}

installPhp

################################################################################
